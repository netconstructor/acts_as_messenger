# Logfile created on Mon Feb 01 22:36:08 -0500 2010 by /
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (26.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (52.2ms)[0m   [0mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (176.0ms)[0m   [0;1mCREATE INDEX `index_comments_on_author_id` ON `comments` (`author_id`)[0m
  [4;35;1mSQL (103.3ms)[0m   [0mCREATE INDEX `index_comments_on_commentable_id_and_commentable_type` ON `comments` (`commentable_id`, `commentable_type`)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (97.7ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (102.5ms)[0m   [0;1mCREATE INDEX `index_message_threads_on_author_id` ON `message_threads` (`author_id`)[0m
  [4;35;1mSQL (119.3ms)[0m   [0mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1)) ENGINE=InnoDB[0m
  [4;36;1mSQL (129.0ms)[0m   [0;1mCREATE INDEX `index_recipients_on_message_thread_id` ON `recipients` (`message_thread_id`)[0m
  [4;35;1mSQL (121.5ms)[0m   [0mCREATE INDEX `index_recipients_on_receiver_id_and_receiver_type` ON `recipients` (`receiver_id`, `receiver_type`)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (186.6ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 22:36:21', '2010-02-01 22:36:21')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (29.2ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (54.9ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (157.5ms)[0m   [0mCREATE INDEX `index_comments_on_author_id` ON `comments` (`author_id`)[0m
  [4;36;1mSQL (123.3ms)[0m   [0;1mCREATE INDEX `index_comments_on_commentable_id_and_commentable_type` ON `comments` (`commentable_id`, `commentable_type`)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (105.5ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (126.8ms)[0m   [0;1mCREATE INDEX `index_message_threads_on_author_id` ON `message_threads` (`author_id`)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: Table 'recipients' already exists: CREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.7ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (87.8ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (125.9ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.6ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (117.8ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (119.2ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 22:38:35', '2010-02-01 22:38:35')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 22:38:35', '2010-02-01 22:38:35')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.7ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (85.6ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (161.2ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.3ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (117.6ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (117.4ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 22:43:29', '2010-02-01 22:43:29')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 22:43:29', '2010-02-01 22:43:29')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.3ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 22:43:29', 'message_title', 'message_body', '2010-02-01 22:43:29', 1, 1)[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.3ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `receiver_id`, `has_read`, `message_thread_id`) VALUES('User', 2, NULL, 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'created_at' in 'order clause': SELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.7ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (78.2ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (148.9ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (19.0ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (133.7ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (118.2ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 22:44:04', '2010-02-01 22:44:04')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 22:44:04', '2010-02-01 22:44:04')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 22:44:04', 'message_title', 'message_body', '2010-02-01 22:44:04', 1, 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.3ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 22:44:04', 2, '2010-02-01 22:44:04', NULL, 1)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (20.0ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (120.6ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (396.4ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.4ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (105.7ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (131.4ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 22:49:48', '2010-02-01 22:49:48')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 22:49:48', '2010-02-01 22:49:48')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 22:49:48', '2010-02-01 22:49:48')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 22:49:48', '2010-02-01 22:49:48')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 22:49:48', '2010-02-01 22:49:48')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 22:49:48', '2010-02-01 22:49:48')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 22:49:48', 'Title', 'Body', '2010-02-01 22:49:48', 1, 4)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 22:49:48', 5, '2010-02-01 22:49:48', NULL, 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (26.2ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (56.7ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (142.9ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.0ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (107.7ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (107.0ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 22:52:18', '2010-02-01 22:52:18')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 22:52:18', '2010-02-01 22:52:18')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 22:52:18', '2010-02-01 22:52:18')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 22:52:18', '2010-02-01 22:52:18')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 22:52:18', '2010-02-01 22:52:18')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 22:52:18', '2010-02-01 22:52:18')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 22:52:18', 'Title', 'Body', '2010-02-01 22:52:18', 1, 4)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 22:52:18', 5, '2010-02-01 22:52:18', NULL, 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 22:52:18', '2010-02-01 22:52:18')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 22:52:18', '2010-02-01 22:52:18')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 22:52:18', '2010-02-01 22:52:18')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 22:52:18', 'Title 1', 'Body 1', '2010-02-01 22:52:18', 1, 7)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 22:52:18', 8, '2010-02-01 22:52:18', NULL, 2)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 22:52:18', 'Title 2', 'Body 2', '2010-02-01 22:52:18', 1, 8)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 22:52:18', 7, '2010-02-01 22:52:18', NULL, 3)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 22:52:18', 9, '2010-02-01 22:52:18', NULL, 3)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.7ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (90.5ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (149.9ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.9ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (117.4ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (118.3ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 22:53:15', '2010-02-01 22:53:15')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 22:53:15', '2010-02-01 22:53:15')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 22:53:15', '2010-02-01 22:53:15')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 22:53:15', '2010-02-01 22:53:15')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 22:53:15', '2010-02-01 22:53:15')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 22:53:15', '2010-02-01 22:53:15')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 22:53:15', 'Title', 'Body', '2010-02-01 22:53:15', 1, 4)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 22:53:15', 5, '2010-02-01 22:53:15', NULL, 1)[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 22:53:15', '2010-02-01 22:53:15')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 22:53:15', '2010-02-01 22:53:15')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 22:53:15', '2010-02-01 22:53:15')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 22:53:15', 'Title 1', 'Body 1', '2010-02-01 22:53:15', 1, 7)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 22:53:15', 8, '2010-02-01 22:53:15', NULL, 2)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 22:53:15', 'Title 2', 'Body 2', '2010-02-01 22:53:15', 1, 8)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 22:53:15', 7, '2010-02-01 22:53:15', NULL, 3)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 22:53:15', 9, '2010-02-01 22:53:15', NULL, 3)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.7ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (113.8ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (387.8ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.9ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (147.3ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (155.6ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:06:52', '2010-02-01 23:06:52')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:06:52', '2010-02-01 23:06:52')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:06:52', '2010-02-01 23:06:52')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:06:52', '2010-02-01 23:06:52')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:06:52', '2010-02-01 23:06:52')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:06:52', '2010-02-01 23:06:52')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:06:52', 'Title', 'Body', '2010-02-01 23:06:52', 1, 4)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.3ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:06:52', 5, '2010-02-01 23:06:52', NULL, 1)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:06:52', '2010-02-01 23:06:52')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:06:52', '2010-02-01 23:06:52')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:06:52', '2010-02-01 23:06:52')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:06:52', 'Title 1', 'Body 1', '2010-02-01 23:06:52', 1, 7)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:06:52', 8, '2010-02-01 23:06:52', NULL, 2)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:06:52', 'Title 2', 'Body 2', '2010-02-01 23:06:52', 1, 8)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:06:52', 7, '2010-02-01 23:06:52', NULL, 3)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:06:52', 9, '2010-02-01 23:06:52', NULL, 3)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:06:52', '2010-02-01 23:06:52')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:06:52', '2010-02-01 23:06:52')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:06:52', '2010-02-01 23:06:52')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:06:52', 'Title 3', 'Body 3', '2010-02-01 23:06:52', 1, 10)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:06:52', 11, '2010-02-01 23:06:52', NULL, 4)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.1ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:06:52', 12, '2010-02-01 23:06:52', NULL, 4)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 4) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:06:52', `has_read` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mComment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.3ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:06:52', 'MessageThread', 'This is totally awesome', 4, '2010-02-01 23:06:52', 12)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (24.6ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (63.7ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (166.6ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.4ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (118.6ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (118.6ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:08:32', '2010-02-01 23:08:32')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:08:32', '2010-02-01 23:08:32')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:08:32', '2010-02-01 23:08:32')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:08:32', '2010-02-01 23:08:32')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:08:32', '2010-02-01 23:08:32')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:08:32', '2010-02-01 23:08:32')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:08:32', 'Title', 'Body', '2010-02-01 23:08:32', 1, 4)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:08:32', 5, '2010-02-01 23:08:32', NULL, 1)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:08:32', '2010-02-01 23:08:32')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:08:32', '2010-02-01 23:08:32')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:08:32', '2010-02-01 23:08:32')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:08:32', 'Title 1', 'Body 1', '2010-02-01 23:08:32', 1, 7)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:08:32', 8, '2010-02-01 23:08:32', NULL, 2)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:08:32', 'Title 2', 'Body 2', '2010-02-01 23:08:32', 1, 8)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:08:32', 7, '2010-02-01 23:08:32', NULL, 3)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.1ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:08:32', 9, '2010-02-01 23:08:32', NULL, 3)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:08:32', '2010-02-01 23:08:32')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:08:32', '2010-02-01 23:08:32')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:08:32', '2010-02-01 23:08:32')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:08:32', 'Title 3', 'Body 3', '2010-02-01 23:08:32', 1, 10)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:08:32', 11, '2010-02-01 23:08:32', NULL, 4)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:08:32', 12, '2010-02-01 23:08:32', NULL, 4)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 4) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:08:32', `has_read` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mComment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:08:32', 'MessageThread', 'This is totally awesome', 4, '2010-02-01 23:08:32', 12)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:08:32', `has_read` = 0 WHERE `id` = 5[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (90.3ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (153.7ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (3.2ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (117.5ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (107.9ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:10:23', 'Title', 'Body', '2010-02-01 23:10:23', 1, 4)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:10:23', 5, '2010-02-01 23:10:23', NULL, 1)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:10:23', 'Title 1', 'Body 1', '2010-02-01 23:10:23', 1, 7)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:10:23', 8, '2010-02-01 23:10:23', NULL, 2)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:10:23', 'Title 2', 'Body 2', '2010-02-01 23:10:23', 1, 8)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:10:23', 7, '2010-02-01 23:10:23', NULL, 3)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:10:23', 9, '2010-02-01 23:10:23', NULL, 3)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:10:23', 'Title 3', 'Body 3', '2010-02-01 23:10:23', 1, 10)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:10:23', 11, '2010-02-01 23:10:23', NULL, 4)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:10:23', 12, '2010-02-01 23:10:23', NULL, 4)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 4) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:10:23', `has_read` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mComment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:10:23', 'MessageThread', 'This is totally awesome', 4, '2010-02-01 23:10:23', 12)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:10:23', `has_read` = 0 WHERE `id` = 5[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:10:23', '2010-02-01 23:10:23')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:10:23', 'Title 4', 'Body 4', '2010-02-01 23:10:23', 1, 13)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:10:23', 14, '2010-02-01 23:10:23', NULL, 5)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:10:23', 15, '2010-02-01 23:10:23', NULL, 5)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 5) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'MessageThread') [0m
  [4;35;1mRecipient Destroy (0.2ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 7[0m
  [4;36;1mRecipient Destroy (0.1ms)[0m   [0;1mDELETE FROM `recipients` WHERE `id` = 8[0m
  [4;35;1mMessageThread Destroy (0.1ms)[0m   [0mDELETE FROM `message_threads` WHERE `id` = 5[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 15 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (147.2ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (350.4ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (3.0ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (126.0ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (142.2ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:11:57', 'Title', 'Body', '2010-02-01 23:11:57', 1, 4)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.3ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:11:57', 5, '2010-02-01 23:11:57', NULL, 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:11:57', 'Title 1', 'Body 1', '2010-02-01 23:11:57', 1, 7)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:11:57', 8, '2010-02-01 23:11:57', NULL, 2)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:11:57', 'Title 2', 'Body 2', '2010-02-01 23:11:57', 1, 8)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:11:57', 7, '2010-02-01 23:11:57', NULL, 3)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:11:57', 9, '2010-02-01 23:11:57', NULL, 3)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:11:57', 'Title 3', 'Body 3', '2010-02-01 23:11:57', 1, 10)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:11:57', 11, '2010-02-01 23:11:57', NULL, 4)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:11:57', 12, '2010-02-01 23:11:57', NULL, 4)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 4) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:11:57', `has_read` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mComment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:11:57', 'MessageThread', 'This is totally awesome', 4, '2010-02-01 23:11:57', 12)[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.4ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:11:57', `has_read` = 0 WHERE `id` = 5[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:11:57', 'Title 4', 'Body 4', '2010-02-01 23:11:57', 1, 13)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:11:57', 14, '2010-02-01 23:11:57', NULL, 5)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:11:57', 15, '2010-02-01 23:11:57', NULL, 5)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 5) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'MessageThread') [0m
  [4;35;1mRecipient Destroy (0.2ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 7[0m
  [4;36;1mRecipient Destroy (0.2ms)[0m   [0;1mDELETE FROM `recipients` WHERE `id` = 8[0m
  [4;35;1mMessageThread Destroy (0.1ms)[0m   [0mDELETE FROM `message_threads` WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 15 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:11:57', '2010-02-01 23:11:57')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:11:58', '2010-02-01 23:11:58')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:11:58', 'Title 5', 'Body 5', '2010-02-01 23:11:58', 1, 16)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:11:58', 17, '2010-02-01 23:11:58', NULL, 6)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:11:58', 18, '2010-02-01 23:11:58', NULL, 6)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (82.5ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (186.4ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (3.1ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (114.3ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (129.9ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:12:12', '2010-02-01 23:12:12')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:12:12', '2010-02-01 23:12:12')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:12:12', '2010-02-01 23:12:12')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.3ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:12:13', 'Title', 'Body', '2010-02-01 23:12:13', 1, 4)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:13', 5, '2010-02-01 23:12:13', NULL, 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:12:13', 'Title 1', 'Body 1', '2010-02-01 23:12:13', 1, 7)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:13', 8, '2010-02-01 23:12:13', NULL, 2)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:12:13', 'Title 2', 'Body 2', '2010-02-01 23:12:13', 1, 8)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:13', 7, '2010-02-01 23:12:13', NULL, 3)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:13', 9, '2010-02-01 23:12:13', NULL, 3)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:12:13', 'Title 3', 'Body 3', '2010-02-01 23:12:13', 1, 10)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:13', 11, '2010-02-01 23:12:13', NULL, 4)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:13', 12, '2010-02-01 23:12:13', NULL, 4)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 4) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:12:13', `has_read` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mComment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.3ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:12:13', 'MessageThread', 'This is totally awesome', 4, '2010-02-01 23:12:13', 12)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:12:13', `has_read` = 0 WHERE `id` = 5[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:12:13', 'Title 4', 'Body 4', '2010-02-01 23:12:13', 1, 13)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:13', 14, '2010-02-01 23:12:13', NULL, 5)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.1ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:13', 15, '2010-02-01 23:12:13', NULL, 5)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 5) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'MessageThread') [0m
  [4;35;1mRecipient Destroy (0.2ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 7[0m
  [4;36;1mRecipient Destroy (0.1ms)[0m   [0;1mDELETE FROM `recipients` WHERE `id` = 8[0m
  [4;35;1mMessageThread Destroy (0.2ms)[0m   [0mDELETE FROM `message_threads` WHERE `id` = 5[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 15 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:12:13', '2010-02-01 23:12:13')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:12:13', 'Title 5', 'Body 5', '2010-02-01 23:12:13', 1, 16)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:13', 17, '2010-02-01 23:12:13', NULL, 6)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:13', 18, '2010-02-01 23:12:13', NULL, 6)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.3ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (86.2ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (153.5ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.9ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (128.3ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (146.4ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.3ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:12:55', 'Title', 'Body', '2010-02-01 23:12:55', 1, 4)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:55', 5, '2010-02-01 23:12:55', NULL, 1)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.3ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:12:55', 'Title 1', 'Body 1', '2010-02-01 23:12:55', 1, 7)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:55', 8, '2010-02-01 23:12:55', NULL, 2)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:12:55', 'Title 2', 'Body 2', '2010-02-01 23:12:55', 1, 8)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:55', 7, '2010-02-01 23:12:55', NULL, 3)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:55', 9, '2010-02-01 23:12:55', NULL, 3)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:12:55', 'Title 3', 'Body 3', '2010-02-01 23:12:55', 1, 10)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:55', 11, '2010-02-01 23:12:55', NULL, 4)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:55', 12, '2010-02-01 23:12:55', NULL, 4)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 4) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:12:55', `has_read` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mComment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:12:55', 'MessageThread', 'This is totally awesome', 4, '2010-02-01 23:12:55', 12)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:12:55', `has_read` = 0 WHERE `id` = 5[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:12:55', 'Title 4', 'Body 4', '2010-02-01 23:12:55', 1, 13)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:55', 14, '2010-02-01 23:12:55', NULL, 5)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:55', 15, '2010-02-01 23:12:55', NULL, 5)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 5) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'MessageThread') [0m
  [4;35;1mRecipient Destroy (0.2ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 7[0m
  [4;36;1mRecipient Destroy (0.1ms)[0m   [0;1mDELETE FROM `recipients` WHERE `id` = 8[0m
  [4;35;1mMessageThread Destroy (0.2ms)[0m   [0mDELETE FROM `message_threads` WHERE `id` = 5[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 15 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:12:55', '2010-02-01 23:12:55')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:12:55', 'Title 5', 'Body 5', '2010-02-01 23:12:55', 1, 16)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:55', 17, '2010-02-01 23:12:55', NULL, 6)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:12:55', 18, '2010-02-01 23:12:55', NULL, 6)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:12:55', 'MessageThread', 'Test', 6, '2010-02-01 23:12:55', 17)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 17 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 6)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Update (0.2ms)[0m   [0;1mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:12:55', `has_read` = 0 WHERE `id` = 10[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (78.3ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (140.6ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.4ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (117.2ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (117.8ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:13:18', '2010-02-01 23:13:18')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:13:18', '2010-02-01 23:13:18')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:13:19', 'Title', 'Body', '2010-02-01 23:13:19', 1, 4)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:19', 5, '2010-02-01 23:13:19', NULL, 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:13:19', 'Title 1', 'Body 1', '2010-02-01 23:13:19', 1, 7)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:19', 8, '2010-02-01 23:13:19', NULL, 2)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:13:19', 'Title 2', 'Body 2', '2010-02-01 23:13:19', 1, 8)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:19', 7, '2010-02-01 23:13:19', NULL, 3)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:19', 9, '2010-02-01 23:13:19', NULL, 3)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:13:19', 'Title 3', 'Body 3', '2010-02-01 23:13:19', 1, 10)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:19', 11, '2010-02-01 23:13:19', NULL, 4)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:19', 12, '2010-02-01 23:13:19', NULL, 4)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 4) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:13:19', `has_read` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mComment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:13:19', 'MessageThread', 'This is totally awesome', 4, '2010-02-01 23:13:19', 12)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:13:19', `has_read` = 0 WHERE `id` = 5[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:13:19', 'Title 4', 'Body 4', '2010-02-01 23:13:19', 1, 13)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:19', 14, '2010-02-01 23:13:19', NULL, 5)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:19', 15, '2010-02-01 23:13:19', NULL, 5)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 5) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'MessageThread') [0m
  [4;35;1mRecipient Destroy (0.2ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 7[0m
  [4;36;1mRecipient Destroy (0.1ms)[0m   [0;1mDELETE FROM `recipients` WHERE `id` = 8[0m
  [4;35;1mMessageThread Destroy (0.1ms)[0m   [0mDELETE FROM `message_threads` WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 15 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:13:19', '2010-02-01 23:13:19')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:13:19', 'Title 5', 'Body 5', '2010-02-01 23:13:19', 1, 16)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:19', 17, '2010-02-01 23:13:19', NULL, 6)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:19', 18, '2010-02-01 23:13:19', NULL, 6)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:13:19', 'MessageThread', 'Test', 6, '2010-02-01 23:13:19', 17)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 17 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 6)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Update (0.2ms)[0m   [0;1mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:13:19', `has_read` = 0 WHERE `id` = 10[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mMessageThread Load (0.2ms)[0m   [0;1mSELECT * FROM `message_threads` WHERE (`message_threads`.`id` = 6) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (110.4ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (196.8ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.5ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (108.4ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (107.1ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.3ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:13:52', 'Title', 'Body', '2010-02-01 23:13:52', 1, 4)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:52', 5, '2010-02-01 23:13:52', NULL, 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:13:52', 'Title 1', 'Body 1', '2010-02-01 23:13:52', 1, 7)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:52', 8, '2010-02-01 23:13:52', NULL, 2)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:13:52', 'Title 2', 'Body 2', '2010-02-01 23:13:52', 1, 8)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:52', 7, '2010-02-01 23:13:52', NULL, 3)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:52', 9, '2010-02-01 23:13:52', NULL, 3)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:13:52', 'Title 3', 'Body 3', '2010-02-01 23:13:52', 1, 10)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:52', 11, '2010-02-01 23:13:52', NULL, 4)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.1ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:52', 12, '2010-02-01 23:13:52', NULL, 4)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 4) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:13:52', `has_read` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mComment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:13:52', 'MessageThread', 'This is totally awesome', 4, '2010-02-01 23:13:52', 12)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:13:52', `has_read` = 0 WHERE `id` = 5[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:13:52', 'Title 4', 'Body 4', '2010-02-01 23:13:52', 1, 13)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:52', 14, '2010-02-01 23:13:52', NULL, 5)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:52', 15, '2010-02-01 23:13:52', NULL, 5)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 5) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'MessageThread') [0m
  [4;35;1mRecipient Destroy (0.2ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 7[0m
  [4;36;1mRecipient Destroy (0.1ms)[0m   [0;1mDELETE FROM `recipients` WHERE `id` = 8[0m
  [4;35;1mMessageThread Destroy (0.1ms)[0m   [0mDELETE FROM `message_threads` WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 15 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:13:52', '2010-02-01 23:13:52')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:13:52', 'Title 5', 'Body 5', '2010-02-01 23:13:52', 1, 16)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:52', 17, '2010-02-01 23:13:52', NULL, 6)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.1ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:13:52', 18, '2010-02-01 23:13:52', NULL, 6)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:13:52', 'MessageThread', 'Test', 6, '2010-02-01 23:13:52', 17)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 17 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 6)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Update (0.2ms)[0m   [0;1mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:13:52', `has_read` = 0 WHERE `id` = 10[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mMessageThread Load (0.2ms)[0m   [0;1mSELECT * FROM `message_threads` WHERE (`message_threads`.`id` = 6) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:13:52', 'MessageThread', 'Tester', 6, '2010-02-01 23:13:52', 18)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 18 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 6)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:13:52', `has_read` = 0 WHERE `id` = 9[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Load (0.2ms)[0m   [0mSELECT * FROM `message_threads` WHERE (`message_threads`.`id` = 6) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.2ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (122.2ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (407.1ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (99.8ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (132.3ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:42:59', 'Title', 'Body', '2010-02-01 23:42:59', 1, 4)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:42:59', 5, '2010-02-01 23:42:59', NULL, 1)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:42:59', 'Title 1', 'Body 1', '2010-02-01 23:42:59', 1, 7)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:42:59', 8, '2010-02-01 23:42:59', NULL, 2)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:42:59', 'Title 2', 'Body 2', '2010-02-01 23:42:59', 1, 8)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:42:59', 7, '2010-02-01 23:42:59', NULL, 3)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:42:59', 9, '2010-02-01 23:42:59', NULL, 3)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:42:59', 'Title 3', 'Body 3', '2010-02-01 23:42:59', 1, 10)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:42:59', 11, '2010-02-01 23:42:59', NULL, 4)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.1ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:42:59', 12, '2010-02-01 23:42:59', NULL, 4)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 4) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:42:59', `has_read` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mComment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:42:59', 'MessageThread', 'This is totally awesome', 4, '2010-02-01 23:42:59', 12)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:42:59', `has_read` = 0 WHERE `id` = 5[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Destroy (0.2ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:42:59', 'MessageThread', 'Seriously, i love this', 4, '2010-02-01 23:42:59', 12)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:42:59', 'Title 4', 'Body 4', '2010-02-01 23:42:59', 1, 13)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:42:59', 14, '2010-02-01 23:42:59', NULL, 5)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.1ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:42:59', 15, '2010-02-01 23:42:59', NULL, 5)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 5) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'MessageThread') [0m
  [4;36;1mRecipient Destroy (0.2ms)[0m   [0;1mDELETE FROM `recipients` WHERE `id` = 7[0m
  [4;35;1mRecipient Destroy (0.1ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 8[0m
  [4;36;1mMessageThread Destroy (0.1ms)[0m   [0;1mDELETE FROM `message_threads` WHERE `id` = 5[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 15 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-01 23:42:59', '2010-02-01 23:42:59')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-01 23:42:59', 'Title 5', 'Body 5', '2010-02-01 23:42:59', 1, 16)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:42:59', 17, '2010-02-01 23:42:59', NULL, 6)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.1ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-01 23:42:59', 18, '2010-02-01 23:42:59', NULL, 6)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:42:59', 'MessageThread', 'Test', 6, '2010-02-01 23:42:59', 17)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 17 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 6)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:42:59', `has_read` = 0 WHERE `id` = 10[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Load (0.2ms)[0m   [0mSELECT * FROM `message_threads` WHERE (`message_threads`.`id` = 6) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-01 23:42:59', 'MessageThread', 'Tester', 6, '2010-02-01 23:42:59', 18)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 18 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 6)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mRecipient Load (0.2ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Update (0.2ms)[0m   [0;1mUPDATE `recipients` SET `updated_at` = '2010-02-01 23:42:59', `has_read` = 0 WHERE `id` = 9[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mMessageThread Load (0.2ms)[0m   [0;1mSELECT * FROM `message_threads` WHERE (`message_threads`.`id` = 6) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (140.8ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (337.4ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.1ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (117.6ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (21.5ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (119.8ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:06:33', 'Title', 'Body', '2010-02-02 00:06:33', 1, 4)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.3ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:06:33', 5, '2010-02-02 00:06:33', NULL, 1)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:06:33', 'Title 1', 'Body 1', '2010-02-02 00:06:33', 1, 7)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:06:33', 8, '2010-02-02 00:06:33', NULL, 2)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:06:33', 'Title 2', 'Body 2', '2010-02-02 00:06:33', 1, 8)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:06:33', 7, '2010-02-02 00:06:33', NULL, 3)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:06:33', 9, '2010-02-02 00:06:33', NULL, 3)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:06:33', 'Title 3', 'Body 3', '2010-02-02 00:06:33', 1, 10)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:06:33', 11, '2010-02-02 00:06:33', NULL, 4)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:06:33', 12, '2010-02-02 00:06:33', NULL, 4)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 4) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-02 00:06:33', `has_read` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mComment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-02 00:06:33', 'MessageThread', 'This is totally awesome', 4, '2010-02-02 00:06:33', 12)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-02 00:06:33', `has_read` = 0 WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Destroy (0.2ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 5[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-02 00:06:33', 'MessageThread', 'Seriously, i love this', 4, '2010-02-02 00:06:33', 12)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.2ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:06:33', 'Title 4', 'Body 4', '2010-02-02 00:06:33', 1, 13)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:06:33', 14, '2010-02-02 00:06:33', NULL, 5)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:06:33', 15, '2010-02-02 00:06:33', NULL, 5)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 5) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'MessageThread') [0m
  [4;36;1mRecipient Destroy (0.2ms)[0m   [0;1mDELETE FROM `recipients` WHERE `id` = 7[0m
  [4;35;1mRecipient Destroy (0.1ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 8[0m
  [4;36;1mMessageThread Destroy (0.1ms)[0m   [0;1mDELETE FROM `message_threads` WHERE `id` = 5[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 15 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:06:33', 'Title 5', 'Body 5', '2010-02-02 00:06:33', 1, 16)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:06:33', 17, '2010-02-02 00:06:33', NULL, 6)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:06:33', 18, '2010-02-02 00:06:33', NULL, 6)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-02 00:06:33', 'MessageThread', 'Test', 6, '2010-02-02 00:06:33', 17)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 17 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 6)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-02 00:06:33', `has_read` = 0 WHERE `id` = 10[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Load (0.2ms)[0m   [0mSELECT * FROM `message_threads` WHERE (`message_threads`.`id` = 6) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-02 00:06:33', 'MessageThread', 'Tester', 6, '2010-02-02 00:06:33', 18)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 18 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 6)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mRecipient Load (0.2ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Update (0.2ms)[0m   [0;1mUPDATE `recipients` SET `updated_at` = '2010-02-02 00:06:33', `has_read` = 0 WHERE `id` = 9[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mMessageThread Load (0.2ms)[0m   [0;1mSELECT * FROM `message_threads` WHERE (`message_threads`.`id` = 6) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:06:33', 'Title 6', 'Body 6', '2010-02-02 00:06:33', 1, 19)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:06:33', 20, '2010-02-02 00:06:33', NULL, 7)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:06:33', 21, '2010-02-02 00:06:33', NULL, 7)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 7) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES(NULL, '2010-02-02 00:06:33', '2010-02-02 00:06:33')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.9ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (73.2ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (21.2ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (216.5ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.9ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (116.6ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (118.9ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:32', 'Title', 'Body', '2010-02-02 00:07:32', 1, 4)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.3ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:32', 5, '2010-02-02 00:07:32', NULL, 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:32', 'Title 1', 'Body 1', '2010-02-02 00:07:32', 1, 7)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:32', 8, '2010-02-02 00:07:32', NULL, 2)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:32', 'Title 2', 'Body 2', '2010-02-02 00:07:32', 1, 8)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:32', 7, '2010-02-02 00:07:32', NULL, 3)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:32', 9, '2010-02-02 00:07:32', NULL, 3)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:32', 'Title 3', 'Body 3', '2010-02-02 00:07:32', 1, 10)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:32', 11, '2010-02-02 00:07:32', NULL, 4)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:32', 12, '2010-02-02 00:07:32', NULL, 4)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 4) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-02 00:07:32', `has_read` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mComment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-02 00:07:32', 'MessageThread', 'This is totally awesome', 4, '2010-02-02 00:07:32', 12)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-02 00:07:32', `has_read` = 0 WHERE `id` = 5[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Destroy (0.2ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 5[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-02 00:07:32', 'MessageThread', 'Seriously, i love this', 4, '2010-02-02 00:07:32', 12)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:32', 'Title 4', 'Body 4', '2010-02-02 00:07:32', 1, 13)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:32', 14, '2010-02-02 00:07:32', NULL, 5)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.1ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:32', 15, '2010-02-02 00:07:32', NULL, 5)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 5) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'MessageThread') [0m
  [4;36;1mRecipient Destroy (0.3ms)[0m   [0;1mDELETE FROM `recipients` WHERE `id` = 7[0m
  [4;35;1mRecipient Destroy (0.2ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 8[0m
  [4;36;1mMessageThread Destroy (0.1ms)[0m   [0;1mDELETE FROM `message_threads` WHERE `id` = 5[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 15 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:32', 'Title 5', 'Body 5', '2010-02-02 00:07:32', 1, 16)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.3ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:32', 17, '2010-02-02 00:07:32', NULL, 6)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:32', 18, '2010-02-02 00:07:32', NULL, 6)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-02 00:07:32', 'MessageThread', 'Test', 6, '2010-02-02 00:07:32', 17)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 17 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 6)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-02 00:07:32', `has_read` = 0 WHERE `id` = 10[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Load (0.3ms)[0m   [0mSELECT * FROM `message_threads` WHERE (`message_threads`.`id` = 6) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-02 00:07:32', 'MessageThread', 'Tester', 6, '2010-02-02 00:07:32', 18)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 18 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 6)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mRecipient Load (0.2ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Update (0.2ms)[0m   [0;1mUPDATE `recipients` SET `updated_at` = '2010-02-02 00:07:32', `has_read` = 0 WHERE `id` = 9[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mMessageThread Load (0.2ms)[0m   [0;1mSELECT * FROM `message_threads` WHERE (`message_threads`.`id` = 6) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:32', 'Title 6', 'Body 6', '2010-02-02 00:07:32', 1, 19)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:32', 20, '2010-02-02 00:07:32', NULL, 7)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:32', 21, '2010-02-02 00:07:32', NULL, 7)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 7) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES(NULL, '2010-02-02 00:07:32', '2010-02-02 00:07:32')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE `comments`[0m
  [4;36;1mSQL (61.3ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `commentable_id` int(11), `commentable_type` varchar(255), `author_id` int(11), `body` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mDROP TABLE `message_threads`[0m
  [4;35;1mSQL (150.9ms)[0m   [0mCREATE TABLE `message_threads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `author_id` int(11), `title` varchar(255), `body` text, `private_thread` tinyint(1) DEFAULT 1, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE `recipients`[0m
  [4;36;1mSQL (144.3ms)[0m   [0;1mCREATE TABLE `recipients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `receiver_id` int(11), `receiver_type` varchar(255), `message_thread_id` int(11), `has_read` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mDROP TABLE `users`[0m
  [4;35;1mSQL (113.4ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `message_threads`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:47', 'Title', 'Body', '2010-02-02 00:07:47', 1, 4)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `recipients`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.3ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:47', 5, '2010-02-02 00:07:47', NULL, 1)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 1) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:47', 'Title 1', 'Body 1', '2010-02-02 00:07:47', 1, 7)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:47', 8, '2010-02-02 00:07:47', NULL, 2)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 2) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:47', 'Title 2', 'Body 2', '2010-02-02 00:07:47', 1, 8)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:47', 7, '2010-02-02 00:07:47', NULL, 3)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:47', 9, '2010-02-02 00:07:47', NULL, 3)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 3) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 7 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 8 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 9 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:47', 'Title 3', 'Body 3', '2010-02-02 00:07:47', 1, 10)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:47', 11, '2010-02-02 00:07:47', NULL, 4)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:47', 12, '2010-02-02 00:07:47', NULL, 4)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 4) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-02 00:07:47', `has_read` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mComment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-02 00:07:47', 'MessageThread', 'This is totally awesome', 4, '2010-02-02 00:07:47', 12)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-02 00:07:47', `has_read` = 0 WHERE `id` = 5[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 0) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (((has_read = 1) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) AND (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User')) [0m
  [4;35;1mRecipient Load (0.2ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Destroy (0.2ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 5[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Create (0.2ms)[0m   [0;1mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-02 00:07:47', 'MessageThread', 'Seriously, i love this', 4, '2010-02-02 00:07:47', 12)[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 12 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 4)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 11 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:47', 'Title 4', 'Body 4', '2010-02-02 00:07:47', 1, 13)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:47', 14, '2010-02-02 00:07:47', NULL, 5)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.1ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:47', 15, '2010-02-02 00:07:47', NULL, 5)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 5) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'MessageThread') [0m
  [4;36;1mRecipient Destroy (0.2ms)[0m   [0;1mDELETE FROM `recipients` WHERE `id` = 7[0m
  [4;35;1mRecipient Destroy (0.1ms)[0m   [0mDELETE FROM `recipients` WHERE `id` = 8[0m
  [4;36;1mMessageThread Destroy (0.1ms)[0m   [0;1mDELETE FROM `message_threads` WHERE `id` = 5[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 14 AND `recipients`.receiver_type = 'User') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `recipients` WHERE (`recipients`.receiver_id = 15 AND `recipients`.receiver_type = 'User') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageThread Create (0.2ms)[0m   [0;1mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:47', 'Title 5', 'Body 5', '2010-02-02 00:07:47', 1, 16)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:47', 17, '2010-02-02 00:07:47', NULL, 6)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.1ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:47', 18, '2010-02-02 00:07:47', NULL, 6)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mRecipient Load (0.3ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-02 00:07:47', 'MessageThread', 'Test', 6, '2010-02-02 00:07:47', 17)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 17 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 6)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Update (0.2ms)[0m   [0mUPDATE `recipients` SET `updated_at` = '2010-02-02 00:07:47', `has_read` = 0 WHERE `id` = 10[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMessageThread Load (0.2ms)[0m   [0mSELECT * FROM `message_threads` WHERE (`message_threads`.`id` = 6) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Create (0.2ms)[0m   [0mINSERT INTO `comments` (`created_at`, `commentable_type`, `body`, `commentable_id`, `updated_at`, `author_id`) VALUES('2010-02-02 00:07:47', 'MessageThread', 'Tester', 6, '2010-02-02 00:07:47', 18)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.receiver_id = 18 AND `recipients`.receiver_type = 'User' AND (message_thread_id = 6)) ORDER BY has_read ASC, created_at DESC LIMIT 1[0m
  [4;36;1mRecipient Load (0.2ms)[0m   [0;1mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 6) ORDER BY has_read ASC, created_at DESC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Update (0.2ms)[0m   [0;1mUPDATE `recipients` SET `updated_at` = '2010-02-02 00:07:47', `has_read` = 0 WHERE `id` = 9[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mMessageThread Load (0.2ms)[0m   [0;1mSELECT * FROM `message_threads` WHERE (`message_threads`.`id` = 6) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT DISTINCT `users`.* FROM `users` INNER JOIN `comments` ON `users`.id = `comments`.author_id WHERE ((`comments`.commentable_type = 'MessageThread') AND (`comments`.commentable_id = 6)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Mike', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('John', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Sky', '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageThread Create (0.2ms)[0m   [0mINSERT INTO `message_threads` (`created_at`, `title`, `body`, `updated_at`, `private_thread`, `author_id`) VALUES('2010-02-02 00:07:47', 'Title 6', 'Body 6', '2010-02-02 00:07:47', 1, 19)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRecipient Create (0.2ms)[0m   [0;1mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:47', 20, '2010-02-02 00:07:47', NULL, 7)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRecipient Create (0.2ms)[0m   [0mINSERT INTO `recipients` (`receiver_type`, `created_at`, `receiver_id`, `updated_at`, `has_read`, `message_thread_id`) VALUES('User', '2010-02-02 00:07:47', 21, '2010-02-02 00:07:47', NULL, 7)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 7) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES(NULL, '2010-02-02 00:07:47', '2010-02-02 00:07:47')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 7) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IN (20,21)) [0m
  [4;35;1mRecipient Load (0.3ms)[0m   [0mSELECT * FROM `recipients` WHERE (`recipients`.message_thread_id = 7) ORDER BY has_read ASC, created_at DESC[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IN (20,21)) [0m
